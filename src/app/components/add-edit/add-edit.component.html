@if(loading){<app-loading></app-loading>}
@else if (!loading) {
<div class="row center">
    <div class="col-4 center">
        <div class="card add-card text-white bg-dark mb-3">
            <div class="card-header text-center">
                <h4 class="mt-3">{{addEdit}} Player</h4>
            </div>
            <div class="card-body">
                <form [formGroup]="playersForm" (ngSubmit)="addPlayer()">
                    <input formControlName="username" type="text" class="form-control" placeholder="User name">
                    @if(playersForm.get('username')?.hasError('required') && playersForm.get('username')?.touched){
                    <div class="error-text">User name is required </div>
                    }

                    <input formControlName="name" type="text" class="form-control mt-3" placeholder="Player name">
                    @if(playersForm.get('name')?.hasError('required') && playersForm.get('name')?.touched){
                    <div class="error-text">Player name is required</div>
                    }
                    <input formControlName="team" type="text" class="form-control mt-3" placeholder="Team">
                    @if(playersForm.get('team')?.hasError('required') && playersForm.get('team')?.touched){
                    <div class="error-text">Team is required</div>
                    }
                    <input formControlName="team_short" type="text" class="form-control mt-3" placeholder="Acronym">
                    @if(playersForm.get('team_short')?.hasError('required') && playersForm.get('team_short')?.touched){
                    <div class="error-text">Team is required</div>
                    }
                    <select formControlName="position" class="form-select mt-3" id="pos-sel" placeholder="Position">
                        <option value="" selected disabled hidden>Position</option>
                        <option value="Top Lane">Top Lane</option>
                        <option value="Jungle">Jungle</option>
                        <option value="Mid Lane">Mid Lane</option>
                        <option value="Bot Lane">Bot Lane</option>
                        <option value="Support">Support</option>
                    </select>
                    @if(playersForm.get('position')?.hasError('required') && playersForm.get('position')?.touched){
                    <div class="error-text">Position is required</div>
                    }
                    <input formControlName="age" type="number" class="form-control mt-3" placeholder="Age">
                    @if(playersForm.get('age')?.hasError('required') && playersForm.get('age')?.touched){
                    <div class="error-text">Age is required</div>
                    }
                    <input formControlName="country" type="text" class="form-control mt-3" placeholder="Nationality">
                    @if(playersForm.get('nationality')?.hasError('required') &&
                    playersForm.get('nationality')?.touched){
                    <div class="error-text">Nationality is required</div>
                    }
                    <input formControlName="city" type="text" class="form-control mt-3" placeholder="City">
                    @if(playersForm.get('city')?.hasError('required') && playersForm.get('city')?.touched){
                    <div class="error-text">City is required</div>
                    }
                    <div class="center mt-3">
                        <button [disabled]="playersForm.invalid" type="submit"
                            class="btn btn-success py-2 px-3 mx-2">Add</button>
                        <button type="button" class="btn btn-danger py-2 px-3 mx-2" routerLink="/home">Back</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
}